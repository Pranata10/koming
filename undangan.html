<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Wedding of Wira & Sueni</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <button id="musicControl" onclick="toggleMusic()" class="fixed bottom-5 right-5 z-[9999] bg-white/20 backdrop-blur-md w-8 h-8 flex items-center justify-center rounded-full border border-white/30 shadow-lg">
        <span id="musicIcon" class="text-xl text-center">▶︎</span>
    </button>

    <audio id="weddingMusic" loop playsinline>
        <source src="msc/1221.MP3" type="audio/mpeg">
    </audio>

   <!-- VIDEO SECTION -->
<section class="video-section">
<video class="bg-video" autoplay muted loop playsinline>
<source src="vid/vid1.mp4" type="video/mp4">
Browser kamu tidak mendukung video.
</video>

<div class="video-overlay">
<p class="subtitle reveal">THE WEDDING OF</p>
<h1 class="title reveal">Wira & Sueni</h1>
<p class="subtitle reveal">21 Januari 2026</p>
</div>

<button class="scroll-btn reveal" onclick="scrollNext()">↓</button>
</section>

<!-- SECTION SWASTYASTU -->
<section id="next-section" class="swastyastu-section">
<div class="swastyastu-overlay">
<p class="swastyastu-greet reveal">ᬒᬁᬲ᭄ᬯᬲ᭄ᬢ᭄ᬬᬲ᭄ᬢᬸ</p>

<p class="swastyastu-text reveal delay-1">
Ihaiva stam ma vi yaustam, kridantau putrair naptrbhih, modamanau sve grhe.
</p>
<p class="swastyastu-text reveal delay-2">
Tetaplah di sini, janganlah berpisah, bermainlah dengan anak-anak dan cucu-cucumu, bergembiralah di rumahmu sendiri.
</p>
<p class="swastyastu-text reveal delay-3">
Rg Veda X.85.42
</p>
</div>
</section>

<!-- PRIA -->
<section class="groom-bg-section">
<div class="groom-bg-overlay">
<p class="groom-subtitle reveal">Mempelai Pria</p>
<h2 class="groom-title reveal delay-1">I Komang Wira Dharma Sentana, S.Tr.Pas.</h2>
<p class="groom-desc reveal delay-2">
Putra ketiga<br> Bapak Pur. AKBP. Drs I.N.D Pawitra <br>
& Ibu Suparti Saidi
</p>
</div>
</section>

<!-- wanita -->
<section class="groom-bg-section2">
<div class="groom-bg-overlay2">
<p class="groom-subtitle2 reveal">Mempelai Wanita</p>
<h2 class="groom-title2 reveal delay-1">Ni Luh Putu Sueni, S.M.</h2>
<p class="groom-desc2 reveal delay-2">
Putri Pertama <br>Bapak I Ketut Monjong <br>
& Ibu Ni Wayan Nganti

</p>
</div>
</section>

<section class="location-section-v2">
    <video class="video-bg" autoplay muted loop playsinline>
        <source src="vid/vid2.mp4" type="video/mp4">
    </video>
    <div class="video-darkener"></div>

    <div class="content-wrapper relative z-10">
    <div class="title-area reveal">
        <span class="top-label">Where & When</span>
        <h2 class="main-title">Detail Acara</h2>
    </div>

    <div class="cards-container">
        <div class="event-card-v2 reveal">
            <div class="card-accent"></div>
            <div class="card-body">
                <h4 class="event-type">Pernikahan</h4>
                <h3 class="event-date-v2">21.01.2026</h3>
                <div class="event-info">
                    <p>13.00 WITA - Selesai</p>
                    <p class="address-text">Dsn. Br.Palaktiying, Desa Landih, Kabupaten Bangli</p>
                </div>
                <a href="https://maps.app.goo.gl/2Bmo3NggbuHH8orv9" 
   target="_blank" 
   class="btn-minimal">
   Petunjuk Jalan
</a>
            </div>
        </div>

        <div class="event-card-v2 reveal delay-1">
            <div class="card-accent"></div>
            <div class="card-body">
                <h4 class="event-type">Resepsi</h4>
                <h3 class="event-date-v2">24.01.2026</h3>
                <div class="event-info">
                    <p>15.00 - 22.00 WITA</p>
                    <p class="address-text">Taman Prakerti Bhuana, Kabupaten Gianyar</p>
                </div>
                <a href="https://maps.app.goo.gl/9sHuBtQ6epS9iCJT8" 
   target="_blank" 
   class="btn-minimal">
   Petunjuk Jalan
</a>
            </div>
        </div>
    </div>
</div>
</section>

<section class="countdown-section">
    <div class="container mx-auto px-4 relative z-10">
        <h2 class="countdown-title reveal">THE WEDDING OF <br> Wira & Sueni</h2>
        
        <div class="countdown-grid">
            <div class="countdown-item reveal delay-1">
                <span id="days" class="number">00</span>
                <span class="label">Hari</span>
            </div>
            <div class="countdown-item reveal delay-2">
                <span id="hours" class="number">00</span>
                <span class="label">Jam</span>
            </div>
            <div class="countdown-item reveal delay-3">
                <span id="minutes" class="number">00</span>
                <span class="label">Menit</span>
            </div>
            <div class="countdown-item reveal delay-4">
                <span id="seconds" class="number">00</span>
                <span class="label">Detik</span>
            </div>
        </div>
    </div>
</section>

<section class="gift-section">
    <div class="container-gift">
        <h2 class="gift-title reveal">Kado Digital</h2>
        <p class="gift-subtitle reveal delay-1">
            Doa restu Anda merupakan karunia yang sangat berarti bagi kami. Namun jika memberi adalah ungkapan tanda kasih Anda, kami sediakan fitur di bawah ini:
        </p>

        <div class="gift-grid">
            <div class="gift-card reveal delay-2">
                <img src="img/BRI_2020.svg" alt="BRI" class="bank-logo">
                <p class="label-rek">Nomor Rekening</p>
                <h3 id="norek1" class="account-number">023301047130500</h3>
                <p class="account-name">a.n I Komang Wira Dharma Sentana</p>
                
                <button onclick="copyToClipboard('norek1')" class="btn-copy">
                    <span>Salin Rekening</span>
                </button>
            </div>

            <div class="gift-card reveal delay-3">
                <img src="img/Bank_Mandiri_logo_2016.svg.png" alt="Mandiri" class="bank-logo">
                <p class="label-rek">Nomor Rekening</p>
                <h3 id="norek2" class="account-number">1400017758641 </h3>
                <p class="account-name">a.n Ni Luh Putu Sueni</p>
                
                <button onclick="copyToClipboard('norek2')" class="btn-copy">
                    <span>Salin Rekening</span>
                </button>
            </div>
        </div>
    </div>
</section>

<section class="gallery-section">
    <video autoplay muted loop playsinline class="bg-video1">
        <source src="vid/vid2.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <div class="video-overlay1"></div>

    <div class="gallery-header">
        <h2 class="gallery-title reveal">Our <br>Memories</h2>
    </div>
    
    <button class="nav-btn prev" onclick="moveSlide(-1)">&#10094;</button>
    <button class="nav-btn next" onclick="moveSlide(1)">&#10095;</button>

    <div class="gallery-container reveal delay-1">
        <div class="gallery-grid" id="galleryGrid">
            <div class="gallery-item">
                <img src="img/FIX/1.jpg" alt="Foto 1">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/3.jpg" alt="Foto 2">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/DPH_8262.jpg" alt="Foto 3">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/DPH_8125.jpg" alt="Foto 4">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/DPH_8194.jpg" alt="Foto 5">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/DSC_0680.jpg" alt="Foto 6">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/DSC_0225.jpg" alt="Foto 7">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/DSC_0101.jpg" alt="Foto 8">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/DPH_8618.jpg" alt="Foto 9">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/DSC_1238.jpg" alt="Foto 10">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/DSC_0896.jpg" alt="Foto 11">
            </div>
        </div>
    </div>
</section>

<section class="thanks-section">
    <div class="thanks-bg">
        <img src="img/f4.jpg" alt="Closing Photo">
    </div>
    
    <div class="thanks-overlay">
        <div class="thanks-content">
            <p class="thanks-greet reveal">
                Merupakan suatu kebahagiaan bagi kami apabila Bapak/Ibu/Saudara/i berkenan hadir dan memberikan doa restu kepada kami.
            </p>
            <h2 class="thanks-title reveal delay-1">Terima Kasih</h2>
            <p class="thanks-names reveal delay-2">Wira & Sueni</p>
        </div>

        <div class="branding-voluntaz reveal delay-3">
            <p>Digital Invitation by</p>
                <span>voluntaz.com</span>
            </a>
        </div>
    </div>
</section>

    <script>
    const music = document.getElementById("weddingMusic");
    const icon = document.getElementById("musicIcon");

        // --- LOGIKA REVEAL PADA SCROLL ---
const revealObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            // Tambahkan class active agar animasi CSS berjalan
            entry.target.classList.add('active');
            
            // Jika ingin animasi hanya sekali saja (tidak hilang saat scroll ke atas lagi):
            // revealObserver.unobserve(entry.target); 
        } else {
            // Jika ingin animasi berulang setiap di scroll:
            entry.target.classList.remove('active');
        }
    });
}, { 
    threshold: 0.1 // Elemen akan muncul saat 15% bagiannya terlihat di layar
});

// Pilih semua elemen dengan class .reveal untuk diobservasi
document.querySelectorAll('.reveal').forEach(el => {
    revealObserver.observe(el);
});

    // --- 1. LOGIKA MUSIK ---
    function playMusic() {
        if (music.paused) {
            music.play().then(() => {
                icon.innerText = "⏸"; // Ganti ikon ke pause saat musik jalan
                icon.style.opacity = "1";
                // Bersihkan pancingan setelah berhasil putar
                cleanMusicListeners();
            }).catch(e => console.log("Menunggu interaksi user..."));
        }
    }

    function cleanMusicListeners() {
        window.removeEventListener('click', playMusic);
        window.removeEventListener('scroll', playMusic);
        window.removeEventListener('touchstart', playMusic);
    }

    function scrollNext() {
        playMusic(); // Pastikan musik jalan saat tombol panah diklik
        const nextSection = document.getElementById("next-section");
        if (nextSection) {
            nextSection.scrollIntoView({ behavior: "smooth" });
        }
    }

    function toggleMusic() {
        if (music.paused) {
            music.play();
            icon.innerText = "⏸";
            icon.style.opacity = "1";
        } else {
            music.pause();
            icon.innerText = "▶︎"; 
            icon.style.opacity = "0.5";
        }
    }

    

    // PENTING: Pancingan Musik
    // Begitu halaman dimuat, kita pasang "perangkap" klik/scroll
    window.addEventListener('load', () => {
        // Coba putar langsung (mungkin berhasil di beberapa browser)
        playMusic();
        
        // Jika gagal, pasang pancingan di seluruh window
        window.addEventListener('click', playMusic, { once: true });
        window.addEventListener('scroll', playMusic, { once: true });
        window.addEventListener('touchstart', playMusic, { once: true });
    });

    // --- 2. ANIMASI MUNCUL (SCROLL) ---
    const obs = new IntersectionObserver((entries) => {
        entries.forEach(e => { 
            if(e.isIntersecting) e.target.classList.add('appear'); 
        });
    }, { threshold: 0.1 });
    document.querySelectorAll('.fade-in').forEach(el => obs.observe(el));

    // --- 3. COUNTDOWN ---
    function startCountdown() {
        const targetDate = new Date("2026-01-21T13:00:00").getTime(); // Sesuaikan tgl acara

        const timer = setInterval(function() {
            const now = new Date().getTime();
            const distance = targetDate - now;

            const d = Math.floor(distance / (1000 * 60 * 60 * 24));
            const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((distance % (1000 * 60)) / 1000);

            if (document.getElementById("days")) {
                document.getElementById("days").innerText = d < 10 ? "0" + d : d;
                document.getElementById("hours").innerText = h < 10 ? "0" + h : h;
                document.getElementById("minutes").innerText = m < 10 ? "0" + m : m;
                document.getElementById("seconds").innerText = s < 10 ? "0" + s : s;
            }

            if (distance < 0) {
                clearInterval(timer);
                const grid = document.querySelector(".countdown-grid");
                if(grid) grid.innerHTML = "<p class='text-2xl text-white'>Hari Bahagia Telah Tiba!</p>";
            }
        }, 1000);
    }

    // --- 4. SALIN REKENING ---
    function copyToClipboard(id) {
        const el = document.getElementById(id);
        if (!el) return;
        
        const text = el.innerText;
        navigator.clipboard.writeText(text).then(() => {
            alert("Nomor rekening berhasil disalin!");
        }).catch(err => {
            console.error('Gagal menyalin: ', err);
        });
    }

    // --- 5. GALLERY SLIDE ---
    function moveSlide(direction) {
        const grid = document.getElementById("galleryGrid");
        if (!grid) return;
        const frameWidth = grid.clientWidth;
        const targetScroll = grid.scrollLeft + (direction * frameWidth);
        grid.scrollTo({
            left: targetScroll,
            behavior: "smooth"
        });
    }

    // Jalankan countdown
    startCountdown();
</script>
</body>
</html>