<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undangan Wira & Sueni</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="overflow-hidden bg-black">
    <audio id="weddingMusic" loop>
        <source src="msc/1221.mp3" type="audio/mpeg">
    </audio>

    <button id="musicControl" onclick="toggleMusic()" class="fixed bottom-5 right-5 z-50 hidden bg-white/20 p-3 rounded-full backdrop-blur-md">
        <span id="musicIcon">⏸</span>
    </button>

    <div id="loader">
        <div class="slideshow-container">
    <img src="img/f1.jpg" class="slide active" alt="Wedding photo 1" fetchpriority="high">
    <img src="img/f2.jpg" class="slide" alt="Wedding photo 2" loading="lazy">
    <img src="img/f3.jpg" class="slide" alt="Wedding photo 3" loading="lazy">
    <img src="img/f4.jpg" class="slide" alt="Wedding photo 4" loading="lazy">
    <img src="img/FIX/DSC_0850.jpg" class="slide" alt="Wedding photo 5" loading="lazy">
    <img src="img/FIX/DPH_8000.jpg" class="slide" alt="Wedding photo 6" loading="lazy">
    <img src="img/FIX/DPH_8194.jpg" class="slide" alt="Wedding photo 7" loading="lazy">
</div>
        <div id="progress">0%</div>
        <p class="text-xs tracking-widest mt-2 uppercase text-stone-500">Mempersiapkan Kebahagiaan</p>
    </div>

    <div id="cover" class="hidden cover-section">
    <div class="cover-content">
        <div class="mempelai-wrapper">
            <p class="the-wedding reveal">The Wedding of</p>
            <h1 class="font-aesthetic reveal delay-1">Wira & Sueni</h1>
        </div>

        <div class="guest-wrapper">
            <div class="guest-info reveal delay-2">
                 <p class="kepada-yth">KEPADA YTH.</p>
                <h2 id="guest-name" class="guest-name">Nama Tamu Undangan</h2>
            </div>
            
            <button onclick="openInvitation()" class="btn-open reveal delay-3">
                Open Invitation
            </button>
        </div>
    </div>
</div>

    <main id="main-invitation" class="hidden"> 

    <!-- VIDEO SECTION -->
<section class="video-section">
<video class="bg-video" autoplay muted loop playsinline preload="auto">
<source src="vid/vid1.mp4" type="video/mp4">
Browser kamu tidak mendukung video.
</video>


<div class="video-overlay">
<p class="subtitle reveal">THE WEDDING OF</p>
<h1 class="title reveal">Wira & Sueni</h1>
<p class="subtitle reveal">21 Januari 2026</p>
</div>

<button class="scroll-btn reveal" onclick="scrollNext()">↓</button>
</section>
</main>

<!-- SECTION SWASTYASTU -->
<section id="next-section" class="swastyastu-section">
<div class="swastyastu-overlay">
<p class="swastyastu-greet reveal">ᬒᬁᬲ᭄ᬯᬲ᭄ᬢ᭄ᬬᬲ᭄ᬢᬸ</p>

<p class="swastyastu-text reveal delay-1">
Ihaiva stam ma vi yaustam, kridantau putrair naptrbhih, modamanau sve grhe.
</p>
<p class="swastyastu-text reveal delay-2">
Tetaplah di sini, janganlah berpisah, bermainlah dengan anak-anak dan cucu-cucumu, bergembiralah di rumahmu sendiri.
</p>
<p class="swastyastu-text reveal delay-3">
Rg Veda X.85.42
</p>
</div>
</section>

<!-- PRIA -->
<section class="groom-bg-section">
<div class="groom-bg-overlay">
<p class="groom-subtitle reveal">Mempelai Pria</p>
<h2 class="groom-title reveal delay-1">I Komang Wira Dharma Sentana, S.Tr.Pas.</h2>
<p class="groom-desc reveal delay-2">
Putra ketiga<br> Bapak Pur. AKBP. Drs I.N.D Pawitra <br>
& Ibu Suparti Saidi
</p>
</div>
</section>

<!-- wanita -->
<section class="groom-bg-section2">
<div class="groom-bg-overlay2">
<p class="groom-subtitle2 reveal">Mempelai Wanita</p>
<h2 class="groom-title2 reveal delay-1">Ni Luh Putu Sueni, S.M.</h2>
<p class="groom-desc2 reveal delay-2">
Putri Pertama <br>Bapak I Ketut Monjong <br>
& Ibu Ni Wayan Nganti

</p>
</div>
</section>

<section class="location-section-v2">
    <video class="video-bg" autoplay muted loop playsinline>
        <source src="vid/vid2.mp4" type="video/mp4">
    </video>
    <div class="video-darkener"></div>

    <div class="content-wrapper relative z-10">
    <div class="title-area reveal">
        <span class="top-label">Where & When</span>
        <h2 class="main-title">Detail Acara</h2>
    </div>

    <div class="cards-container">
        <div class="event-card-v2 reveal">
            <div class="card-accent"></div>
            <div class="card-body">
                <h4 class="event-type">Pernikahan</h4>
                <h3 class="event-date-v2">21.01.2026</h3>
                <div class="event-info">
                    <p>13.00 WITA - Selesai</p>
                    <p class="address-text">Dsn. Br.Palaktiying, Desa Landih, Kabupaten Bangli</p>
                </div>
                <a href="https://maps.app.goo.gl/2Bmo3NggbuHH8orv9" 
   target="_blank" 
   class="btn-minimal">
   Petunjuk Jalan
</a>
            </div>
        </div>

        <div class="event-card-v2 reveal delay-1">
            <div class="card-accent"></div>
            <div class="card-body">
                <h4 class="event-type">Resepsi</h4>
                <h3 class="event-date-v2">24.01.2026</h3>
                <div class="event-info">
                    <p>15.00 - 22.00 WITA</p>
                    <p class="address-text">Taman Prakerti Bhuana, Kabupaten Gianyar</p>
                </div>
                <a href="https://maps.app.goo.gl/9sHuBtQ6epS9iCJT8" 
   target="_blank" 
   class="btn-minimal">
   Petunjuk Jalan
</a>
            </div>
        </div>
    </div>
</div>
</section>

<section class="countdown-section">
    <div class="container mx-auto px-4 relative z-10">
        <h2 class="countdown-title reveal">THE WEDDING OF <br> Wira & Sueni</h2>
        
        <div class="countdown-grid">
            <div class="countdown-item reveal delay-1">
                <span id="days" class="number">00</span>
                <span class="label">Hari</span>
            </div>
            <div class="countdown-item reveal delay-2">
                <span id="hours" class="number">00</span>
                <span class="label">Jam</span>
            </div>
            <div class="countdown-item reveal delay-3">
                <span id="minutes" class="number">00</span>
                <span class="label">Menit</span>
            </div>
            <div class="countdown-item reveal delay-4">
                <span id="seconds" class="number">00</span>
                <span class="label">Detik</span>
            </div>
        </div>
    </div>
</section>

<section class="gift-section">
    <div class="container-gift">
        <h2 class="gift-title reveal">Kado Digital</h2>
        <p class="gift-subtitle reveal delay-1">
            Doa restu Anda merupakan karunia yang sangat berarti bagi kami. Namun jika memberi adalah ungkapan tanda kasih Anda, kami sediakan fitur di bawah ini:
        </p>

        <div class="gift-grid">
            <div class="gift-card reveal delay-2">
                <img src="img/BRI_2020.svg" alt="BRI" class="bank-logo">
                <p class="label-rek">Nomor Rekening</p>
                <h3 id="norek1" class="account-number">023301047130500</h3>
                <p class="account-name">a.n I Komang Wira Dharma Sentana</p>
                
                <button onclick="copyToClipboard('norek1')" class="btn-copy">
                    <span>Salin Rekening</span>
                </button>
            </div>

            <div class="gift-card reveal delay-3">
                <img src="img/Bank_Mandiri_logo_2016.svg.png" alt="Mandiri" class="bank-logo">
                <p class="label-rek">Nomor Rekening</p>
                <h3 id="norek2" class="account-number">1400017758641 </h3>
                <p class="account-name">a.n Ni Luh Putu Sueni</p>
                
                <button onclick="copyToClipboard('norek2')" class="btn-copy">
                    <span>Salin Rekening</span>
                </button>
            </div>
        </div>
    </div>
</section>

<section class="gallery-section">
    <video autoplay muted loop playsinline preload="auto" class="bg-video1">
        <source src="vid/vid2.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <div class="video-overlay1"></div>

    <div class="gallery-header">
        <h2 class="gallery-title reveal">Our <br>Memories</h2>
    </div>
    
    <button class="nav-btn prev" onclick="moveSlide(-1)">&#10094;</button>
    <button class="nav-btn next" onclick="moveSlide(1)">&#10095;</button>

    <div class="gallery-container reveal delay-1">
        <div class="gallery-grid" id="galleryGrid">
            <div class="gallery-item">
                <img src="img/FIX/1.jpg" alt="Foto 1" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/3.jpg" alt="Foto 2" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/DPH_8262.jpg" alt="Foto 3" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/DPH_8125.jpg" alt="Foto 4" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/DPH_8194.jpg" alt="Foto 5" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/DSC_0680.jpg" alt="Foto 6" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/DSC_0225.jpg" alt="Foto 7" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/DSC_0101.jpg" alt="Foto 8" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/DPH_8618.jpg" alt="Foto 9" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/DSC_1238.jpg" alt="Foto 10" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="img/FIX/DSC_0896.jpg" alt="Foto 11" loading="lazy">
            </div>
        </div>
    </div>
</section>

<section class="thanks-section">
    <div class="thanks-bg">
        <img src="img/f4.jpg" alt="Closing Photo">
    </div>
    
    <div class="thanks-overlay">
        <div class="thanks-content">
            <p class="thanks-greet reveal">
                Merupakan suatu kebahagiaan bagi kami apabila Bapak/Ibu/Saudara/i berkenan hadir dan memberikan doa restu kepada kami.
            </p>
            <h2 class="thanks-title reveal delay-1">Terima Kasih</h2>
            <p class="thanks-names reveal delay-2">Wira & Sueni</p>
        </div>

        <div class="branding-voluntaz reveal delay-3">
            <p>Digital Invitation by</p>
                <span>voluntaz.com</span>
            </a>
        </div>
    </div>
</section>

    <script>
        // 1. Inisialisasi Variabel & Elemen
const urlParams = new URLSearchParams(window.location.search);
const namaTamu = urlParams.get('to');
const music = document.getElementById("weddingMusic");
const musicIcon = document.getElementById("musicIcon");
const musicBtn = document.getElementById("musicControl");

// 2. Set Nama Tamu dari URL (?to=Nama+Tamu)
if (namaTamu) {
    const namaBersih = decodeURIComponent(namaTamu.replace(/[+]/g, ' '));
    document.getElementById('guest-name').innerText = namaBersih;
}

// 3. Sistem Loader & Slideshow Pre-load
let prog = 0;
let sIdx = 0;
const slides = document.querySelectorAll('.slide');

const loadTimer = setInterval(() => {
    prog += 2;
    const progressEl = document.getElementById('progress');
    if (progressEl) progressEl.innerText = prog + '%';

    // Pergantian gambar setiap progress naik 25%
    if (prog % 10 === 0 && slides.length > 0) {
        slides[sIdx].classList.remove('active');
        sIdx = (sIdx + 1) % slides.length;
        slides[sIdx].classList.add('active');
    }

    if (prog >= 100) {
        clearInterval(loadTimer);
        const loader = document.getElementById('loader');
        const cover = document.getElementById('cover');
        
        if (loader) loader.style.display = 'none';
        if (cover) {
            cover.classList.remove('hidden');
            cover.classList.add('flex');
            // Trigger animasi awal pada cover
            setTimeout(() => {
                document.querySelectorAll('#cover .reveal').forEach(el => el.classList.add('active'));
            }, 200);
        }
    }
}, 40);

function openInvitation() {
    const music = document.getElementById("weddingMusic");
    const cover = document.getElementById('cover');
    const mainContent = document.getElementById('main-invitation');

    // 1. Putar Musik Secepat Mungkin
    if (music) { music.play(); }

    if (cover && mainContent) {
        // 2. Tambahkan class animasi keluar pada cover
        cover.classList.add('transition-out');

        // 3. Tampilkan main content (tapi biarkan transparan dulu)
        mainContent.classList.remove('hidden');
        mainContent.style.opacity = '0';

        setTimeout(() => {
            // 4. Hilangkan cover sepenuhnya
            cover.style.display = 'none';
            
            // 5. Unlock scroll & jalankan animasi konten
            document.body.classList.remove('overflow-hidden');
            
            // 6. Animasi masuk konten utama (Fade In + Scale Up)
            mainContent.style.transition = 'all 1.2s cubic-bezier(0.22, 1, 0.36, 1)';
            mainContent.style.opacity = '1';
            
            initReveal();
            startCountdown();

            // Scroll halus ke arah konten agar terasa dinamis
            window.scrollTo({ top: 10, behavior: 'smooth' });
        }, 800); // Sesuaikan dengan durasi CSS
    }
}

// 5. Kontrol Musik (Play/Pause)
function toggleMusic() {
    if (!music) return;
    if (music.paused) {
        music.play();
        musicIcon.innerText = "⏸";
    } else {
        music.pause();
        musicIcon.innerText = "▶︎";
    }
}

function initReveal() {
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(e => {
            if (e.isIntersecting) {
                // Saat elemen masuk ke layar
                e.target.classList.add('active');
            } else {
                // Saat elemen keluar dari layar (Scroll balik)
                e.target.classList.remove('active');
            }
        });
    }, { 
        // Threshold 0.1 berarti animasi jalan saat 10% elemen terlihat
        threshold: 0.1 
    });

    document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
}

// 7. Hitung Mundur Acara
function moveSlide(direction) {
    const grid = document.getElementById('galleryGrid');
    // Ambil lebar satu item gallery (termasuk gap/margin)
    const scrollAmount = grid.querySelector('.gallery-item').offsetWidth + 15;
    
    // Geser ke kiri (direction -1) atau ke kanan (direction 1)
    grid.scrollBy({
        left: direction * scrollAmount,
        behavior: 'smooth'
    });
}

function startCountdown() {
    const target = new Date("Jan 21, 2026 13:00:00").getTime();
    
    const timer = setInterval(() => {
        const now = new Date().getTime();
        const diff = target - now;

        if (diff < 0) {
            clearInterval(timer);
            return;
        }

        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const s = Math.floor((diff % (1000 * 60)) / 1000);

        if(document.getElementById("days")) {
            document.getElementById("days").innerText = d.toString().padStart(2, '0');
            document.getElementById("hours").innerText = h.toString().padStart(2, '0');
            document.getElementById("minutes").innerText = m.toString().padStart(2, '0');
            document.getElementById("seconds").innerText = s.toString().padStart(2, '0');
        }
    }, 1000);
}

// 8. Navigasi Scroll
function scrollNext() {
    const nextSection = document.getElementById("next-section");
    if (nextSection) {
        nextSection.scrollIntoView({ behavior: "smooth" });
    }
}

// 9. Fitur Salin Rekening
function copyToClipboard(id) {
    const text = document.getElementById(id).innerText;
    navigator.clipboard.writeText(text).then(() => {
        alert("Nomor rekening berhasil disalin!");
    }).catch(err => {
        console.error('Gagal menyalin: ', err);
    });
}
    </script>
</body>
</html>